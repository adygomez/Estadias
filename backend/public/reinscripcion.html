<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="icon" href="/favicon.png" type="image/png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REINSCRIPCIÓN</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/css/chatbot.css">
</head>
<body class="relative min-h-screen flex flex-col" style="background: url('/images/Fondo-Login.png') no-repeat center center fixed; background-size: cover;">
  <!-- Header Superior -->
  <div class="relative z-10 bg-[#4C0000] w-full py-3 flex items-center justify-center">
    <!-- Título REINSCRIPCIÓN - Centrado perfecto sin interferencias -->
    <h1 class="text-white text-center text-2xl md:text-4xl font-bold tracking-wide">REINSCRIPCIÓN</h1>
    
    <!-- Botón Regresar - Posicionado absolutamente para no afectar el centrado -->
    <a href="index.html" class="absolute left-4 md:left-6 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 md:px-6 md:py-2.5 rounded-lg font-bold tracking-wide text-sm md:text-base transition-colors duration-200 flex items-center space-x-2 shadow-md">
      <svg class="w-4 h-4 md:w-5 md:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
      </svg>
      <span>Regresar</span>
    </a>
  </div>

  <!-- Panel Principal -->
  <div class="relative z-10 flex-1 flex items-center justify-center py-8 px-4">
    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden">
      <!-- Header gris claro con "REINSCRIBETE" -->
      <div class="w-full bg-gray-300 py-4">
        <h2 class="text-black text-center text-2xl md:text-3xl font-bold uppercase tracking-wide">REINSCRIBETE</h2>
      </div>
      
      <!-- Contenido Principal -->
      <div class="px-6 md:px-12 py-8 md:py-12">
        <!-- Logo DG ETI centrado -->
        <div class="flex justify-center mb-8 md:mb-12">
          <img src="/images/image 14.png" alt="Logo DG ETI" class="h-32 md:h-44 w-auto object-contain" />
        </div>

        <!-- Sección de Registro -->
        <div class="mb-6 md:mb-8">
          <div class="flex flex-col md:flex-row md:items-center gap-4 md:gap-6">
            <label class="text-gray-600 text-base md:text-lg font-normal w-full md:w-32 md:text-left text-center md:text-left">
              Registro
            </label>
            <div class="flex-1 w-full flex flex-col md:flex-row gap-4">
              <input 
                id="numeroControlRegistro"
                type="text" 
                placeholder="Coloca tu No.control para reinscribirte"
                class="bg-[#4C0000] text-white px-6 md:px-8 py-3 md:py-4 rounded-3xl text-base md:text-lg font-normal placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-[#6a0000] transition-all duration-200 flex-1 w-full"
              />
              <button id="btnReinscribir" class="bg-orange-500 hover:bg-orange-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-3xl text-base md:text-lg font-bold transition-colors duration-200 w-full md:w-auto md:flex-shrink-0">
                Registrar
              </button>
            </div>
          </div>
        </div>

        <!-- Sección de Reimpresión -->
        <div class="mb-8 md:mb-12">
          <div class="flex flex-col md:flex-row md:items-center gap-4 md:gap-6">
            <label class="text-gray-600 text-base md:text-lg font-normal w-full md:w-32 md:text-left text-center md:text-left">
              Reimpresión
            </label>
            <div class="flex-1 w-full flex flex-col md:flex-row gap-4">
              <input 
                id="numeroControlReimpresion"
                type="text" 
                placeholder="Coloca tu No.control para reimprimir tu constancia de reinscripción"
                class="bg-[#4C0000] text-white px-6 md:px-8 py-3 md:py-4 rounded-3xl text-base md:text-lg font-normal placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-[#6a0000] transition-all duration-200 flex-1 w-full"
              />
              <button id="btnReimprimirReinscripcion" class="bg-orange-500 hover:bg-orange-600 text-white px-6 md:px-8 py-3 md:py-4 rounded-3xl text-base md:text-lg font-bold transition-colors duration-200 w-full md:w-auto md:flex-shrink-0">
                Reimprimir
              </button>
            </div>
          </div>
        </div>

        <!-- Texto informativo -->
        <div class="text-center space-y-2">
          <p class="text-[#4C0000] text-sm md:text-base font-normal">
            Disponible para alumnos de 2º, 3º, 4º, 5º y 6° semestre.
          </p>
          <p class="text-[#4C0000] text-sm md:text-base font-normal">
            La reinscripción puede variar según el periodo escolar correspondiente.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="relative z-10 text-center py-4">
    <p class="text-white text-sm">© 2024 SIIR 272. Todos los derechos reservados.</p>
  </div>

  <!-- Modal del Formulario de Reinscripción -->
  <div class="modal fade" id="formularioModal" tabindex="-1" aria-labelledby="formularioModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-fullscreen-lg-down modal-xl modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header bg-[#4C0000] text-white">
          <h5 class="modal-title text-xl font-bold" id="formularioModalLabel">Formulario de Reinscripción</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body bg-gray-50 p-4 md:p-6">
          <form id="registroForm" class="space-y-6">
            <!-- Datos del Alumno -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">Datos del Alumno</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Nombres *</label>
                  <input name="nombres" type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Nombres"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Primer Apellido *</label>
                  <input name="primer_apellido" type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Primer Apellido"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Segundo Apellido *</label>
                  <input name="segundo_apellido" type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Segundo Apellido"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">CURP *</label>
                  <input name="curp" type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CURP"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Carrera</label>
                  <input name="carrera" type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100" placeholder="Carrera"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Periodo Semestral</label>
                  <input name="periodo_semestral" type="text" readonly value="2025-2026" class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Semestre</label>
                  <input name="semestre" type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100" placeholder="Semestre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Grupo</label>
                  <input name="grupo" type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100" placeholder="Grupo"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Turno</label>
                  <input name="turno" type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100" placeholder="Turno"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">1ERA OPCIÓN *</label>
                  <select id="primera_opcion" name="primera_opcion" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Cuál fue tu 1era opción</option>
                    <option value="A Y B">A Y B</option>
                    <option value="PROGRAMACIÓN">PROGRAMACIÓN</option>
                    <option value="GESTIÓN E INNOVACIÓN TURÍSTICA">GESTIÓN E INNOVACIÓN TURÍSTICA</option>
                    <option value="VENTAS">VENTAS</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">2DA OPCIÓN *</label>
                  <select id="segunda_opcion" name="segunda_opcion" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Cuál fue tu 2da opción</option>
                    <option value="A Y B">A Y B</option>
                    <option value="PROGRAMACIÓN">PROGRAMACIÓN</option>
                    <option value="GESTIÓN E INNOVACIÓN TURÍSTICA">GESTIÓN E INNOVACIÓN TURÍSTICA</option>
                    <option value="VENTAS">VENTAS</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">3ERA OPCIÓN *</label>
                  <select id="tercera_opcion" name="tercera_opcion" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Cuál fue tu 3era opción</option>
                    <option value="A Y B">A Y B</option>
                    <option value="PROGRAMACIÓN">PROGRAMACIÓN</option>
                    <option value="GESTIÓN E INNOVACIÓN TURÍSTICA">GESTIÓN E INNOVACIÓN TURÍSTICA</option>
                    <option value="VENTAS">VENTAS</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">4TA OPCIÓN *</label>
                  <select id="cuarta_opcion" name="cuarta_opcion" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Cuál fue tu 4ta opción</option>
                    <option value="A Y B">A Y B</option>
                    <option value="PROGRAMACIÓN">PROGRAMACIÓN</option>
                    <option value="GESTIÓN E INNOVACIÓN TURÍSTICA">GESTIÓN E INNOVACIÓN TURÍSTICA</option>
                    <option value="VENTAS">VENTAS</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Nacionalidad *</label>
                  <select id="nacionalidad" name="nacionalidad" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona Nacionalidad</option>
                    <option value="Mexicano">Mexicano</option>
                    <option value="Extranjero">Extranjero</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">País (si es extranjero)</label>
                  <input id="pais_extranjero" name="pais_extranjero" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="País (si es extranjero)"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Estado Civil *</label>
                  <select id="estado_civil" name="estado_civil" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona Estado Civil</option>
                    <option value="1">Soltero</option>
                    <option value="2">Casado</option>
                    <option value="3">Unión libre</option>
                    <option value="4">Divorciado</option>
                    <option value="5">Viudo</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Fecha de Nacimiento *</label>
                  <input id="fecha_nacimiento" name="fecha_nacimiento" type="date" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Edad *</label>
                  <input id="edad" name="edad" type="number" min="13" max="25" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Ej. 14"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Sexo *</label>
                  <select id="sexo" name="sexo" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona sexo</option>
                    <option value="Femenino">Femenino</option>
                    <option value="Masculino">Masculino</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Estado de nacimiento *</label>
                  <select id="estado_nacimiento" name="estado_nacimiento" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Estado --</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Municipio de nacimiento *</label>
                  <select id="municipio_nacimiento" name="municipio_nacimiento" required disabled class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Municipio --</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Ciudad de nacimiento *</label>
                  <select id="ciudad_nacimiento" name="ciudad_nacimiento" required disabled class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Ciudad --</option>
                  </select>
                </div>
              </div>
              <input name="estado_codigo" type="hidden"/>
              <input name="municipio_codigo" type="hidden"/>
              <input name="ciudad_codigo" type="hidden"/>
            </fieldset>

            <!-- Datos Generales -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">DATOS GENERALES DEL ALUMNO</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Colonia</label>
                  <input name="colonia" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="SMZ, COLONIA, FRACCIONAMIENTO"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Domicilio</label>
                  <input name="domicilio" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CALLE MZ LT EDIFICIO DEPTO"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Código Postal</label>
                  <input name="codigo_postal" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CÓDIGO POSTAL"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono del Alumno</label>
                  <input name="telefono_alumno" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="TÉLEFONO DEL ALUMNO"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Correo Electrónico *</label>
                  <input name="correo_alumno" type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CORREO"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Sangre</label>
                  <input name="tipo_sangre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="TIPO DE SANGRE"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Contacto de Emergencia - Nombre</label>
                  <input name="contacto_emergencia_nombre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CONTACTO DE EMERGENCIA-NOMBRE"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Contacto de Emergencia - Teléfono</label>
                  <input name="contacto_emergencia_telefono" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="CONTACTO DE EMERGENCIA- TELÉFONO"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Habla lengua indígena? *</label>
                  <select id="habla_lengua_indigena_respuesta" name="habla_lengua_indigena_respuesta" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">¿Habla lengua indígena? (Sí/No)</option>
                    <option value="si">Sí</option>
                    <option value="no">No</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Cuál lengua?</label>
                  <input id="habla_lengua_indigena_cual" name="habla_lengua_indigena_cual" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="¿Cuál lengua?"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Estado de Residencia *</label>
                  <select id="estado_nacimiento_general" name="estado_nacimiento_general" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Estado --</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Municipio de Residencia *</label>
                  <select id="municipio_nacimiento_general" name="municipio_nacimiento_general" required disabled class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Municipio --</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Ciudad de Residencia *</label>
                  <select id="ciudad_nacimiento_general" name="ciudad_nacimiento_general" required disabled class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">-- Selecciona Ciudad --</option>
                  </select>
                </div>
              </div>
              <input type="hidden" name="estado_codigo_general"/>
              <input type="hidden" name="municipio_codigo_general"/>
              <input type="hidden" name="ciudad_codigo_general"/>
            </fieldset>

            <!-- Datos Médicos -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">Datos Médicos</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"># DE SEGURO SOCIAL DEL ALUMNO</label>
                  <input name="numero_seguro_social" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="# DE SEGURO SOCIAL"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Unidad Médica Familiar *</label>
                  <select name="unidad_medica_familiar" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona Unidad Medica</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="19">19</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Tiene enfermedad o alergia?</label>
                  <input name="enfermedad_cronica_o_alergia_respuesta" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="¿Tiene enfermedad o alergia? (Sí/No)"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Detalle enfermedad o alergia</label>
                  <input name="enfermedad_cronica_o_alergia_detalle" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Detalle enfermedad o alergia"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Discapacidad *</label>
                  <select name="discapacidad" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona discapacidad</option>
                    <option value="Ninguna">Ninguna</option>
                    <option value="Visual">Visual</option>
                    <option value="Motriz">Motriz</option>
                    <option value="Auditiva">Auditiva</option>
                    <option value="Habla">Habla</option>
                    <option value="Otro">Otro</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Entrega diagnóstico? *</label>
                  <select name="entrega_diagnostico" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">¿Entrega diagnóstico?</option>
                    <option value="Sí">Sí</option>
                    <option value="No">No</option>
                  </select>
                </div>
                <div class="md:col-span-2 lg:col-span-3">
                  <label class="block text-sm font-medium text-gray-700 mb-1">Detalle de enfermedad</label>
                  <textarea name="detalle_enfermedad" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Detalle de enfermedad"></textarea>
                </div>
              </div>
            </fieldset>

            <!-- Secundaria de Origen -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">Secundaria de Origen</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de Secundaria</label>
                  <input name="nombre_secundaria" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Nombre de Secundaria"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Régimen *</label>
                  <select name="regimen" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona régimen</option>
                    <option value="Pública">Pública</option>
                    <option value="Privada">Privada</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Promedio General</label>
                  <input name="promedio_general" type="number" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Promedio General"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Modalidad *</label>
                  <select name="modalidad" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">Selecciona modalidad</option>
                    <option value="General">General</option>
                    <option value="Técnica">Técnica</option>
                    <option value="Abierta">Abierta</option>
                    <option value="Telesecundaria">Telesecundaria</option>
                    <option value="CENEVAL">CENEVAL</option>
                    <option value="INEA">INEA</option>
                    <option value="Modular">Modular</option>
                    <option value="Otro">Otro</option>
                  </select>
                </div>
              </div>
            </fieldset>

            <!-- Tutor Responsable -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">Tutor Responsable</legend>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Nombre del Padre</label>
                  <input name="nombre_padre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Nombre del Padre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono del Padre</label>
                  <input name="telefono_padre" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Teléfono del Padre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Nombre de la Madre</label>
                  <input name="nombre_madre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Nombre de la Madre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono de la Madre</label>
                  <input name="telefono_madre" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Teléfono de la Madre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Con quién vive? *</label>
                  <select name="vive_con" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">¿Con quién vive?</option>
                    <option value="Padres">Padres</option>
                    <option value="Mamá">Mamá</option>
                    <option value="Papá">Papá</option>
                    <option value="Abuelos">Abuelos</option>
                    <option value="Tíos">Tíos</option>
                  </select>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Persona Emergencia - Nombre</label>
                  <input name="persona_emergencia_nombre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Persona Emergencia - Nombre"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Persona Emergencia - Parentesco</label>
                  <input name="persona_emergencia_parentesco" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Persona Emergencia - Parentesco"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Persona Emergencia - Teléfono</label>
                  <input name="persona_emergencia_telefono" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Persona Emergencia - Teléfono"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Responsable de Emergencia - Nombre</label>
                  <input name="responsable_emergencia_nombre" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Nombre del Responsable"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Responsable de Emergencia - Teléfono</label>
                  <input name="responsable_emergencia_telefono" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Teléfono del Responsable"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">Responsable de Emergencia - Parentesco</label>
                  <input name="responsable_emergencia_parentesco" type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent" placeholder="Parentesco"/>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1">¿Entregó carta poder? *</label>
                  <select name="carta_poder" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                    <option value="">¿Entregó carta poder?</option>
                    <option value="Sí">Sí</option>
                    <option value="No">No</option>
                  </select>
                </div>
              </div>
            </fieldset>

            <!-- Paraescolar -->
            <fieldset class="bg-white p-4 md:p-6 rounded-lg shadow-sm border border-gray-200">
              <legend class="text-lg font-bold text-[#4C0000] mb-4 px-2">Selecciona un Paraescolar</legend>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Paraescolar *</label>
                <select id="paraescolar" name="paraescolar" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4C0000] focus:border-transparent">
                  <option value="">--Selecciona--</option>
                  <option value="AJEDREZ">AJEDREZ</option>
                  <option value="ATLETISMO">ATLETISMO</option>
                  <option value="BANDA DE GUERRA">BANDA DE GUERRA</option>
                  <option value="BASQUETBOL">BASQUETBOL</option>
                  <option value="DANZA">DANZA</option>
                  <option value="ESCOLTA DE BANDERA">ESCOLTA DE BANDERA</option>
                  <option value="FOTOGRAFÍA">FOTOGRAFÍA</option>
                  <option value="FUTBOL">FUTBOL</option>
                  <option value="PINTURA">PINTURA</option>
                  <option value="TEATRO-CANTO">TEATRO-CANTO</option>
                  <option value="TOCHO BANDERA">TOCHO BANDERA</option>
                  <option value="VOLEIBOL">VOLEIBOL</option>
                  <option value="ORATORIADECLAMACION">ORATORIA Y  DECLAMACION</option>
                  <option value="MÚSICA">MÚSICA</option>
                </select>
              </div>
            </fieldset>

            <div id="pdfLink" class="mt-4"></div>
          </form>
        </div>
        <div class="modal-footer bg-gray-100">
          <button type="button" class="px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200" data-bs-dismiss="modal">Cerrar</button>
          <button type="submit" form="registroForm" class="px-6 py-2 bg-[#4C0000] hover:bg-[#6a0000] text-white rounded-lg transition-colors duration-200 font-semibold">Guardar Reinscripción</button>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    const BASE_URL = window.location.origin.includes('localhost')
      ? 'http://localhost:3001'
      : 'https://registro272.onrender.com';

    // Funcionalidad del botón Reinscribir
    const btnReinscribir = document.getElementById('btnReinscribir');
    const inputNumeroControl = document.getElementById('numeroControlRegistro');

    if (btnReinscribir && inputNumeroControl) {
      btnReinscribir.addEventListener('click', async () => {
        const numeroControl = inputNumeroControl.value.trim();
        
        if (!numeroControl) {
          alert('⚠️ Por favor ingresa tu número de control');
          inputNumeroControl.focus();
          return;
        }

        try {
          // En reinscripción, el número de control es el mismo que el folio
          // Buscar el alumno por folio (número de control)
          const res = await fetch(`${BASE_URL}/api/folio/${numeroControl}`);
          const data = await res.json();

          if (res.ok) {
            // Validar que el alumno existe (en reinscripción debe existir)
            if (!data) {
              alert('❌ Número de control no encontrado. Solo alumnos de 2º a 6º semestre pueden reinscribirse.');
              inputNumeroControl.focus();
              return;
            }

            // Guardar número de control (folio) en localStorage
            localStorage.setItem('alumnoFolio', numeroControl);
            
            // Abrir modal con el formulario
            const modalElement = document.getElementById('formularioModal');
            if (modalElement) {
              // Cargar y prellenar datos del alumno existente
              await cargarDatosAlumnoEnModal(numeroControl);
              const modal = new bootstrap.Modal(modalElement);
              modal.show();
            }
          } else {
            alert(data.message || '❌ Número de control no encontrado. Verifica que seas alumno de 2º a 6º semestre.');
            inputNumeroControl.focus();
          }
        } catch (err) {
          console.error('Error al validar número de control:', err);
          alert('❌ Error de conexión. Por favor intenta nuevamente.');
        }
      });

      // Permitir enviar con Enter
      inputNumeroControl.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          btnReinscribir.click();
        }
      });
    }

    // Funcionalidad del botón Reimprimir
    const btnReimprimirReinscripcion = document.getElementById('btnReimprimirReinscripcion');
    const inputNumeroControlReimpresion = document.getElementById('numeroControlReimpresion');

    if (btnReimprimirReinscripcion && inputNumeroControlReimpresion) {
      btnReimprimirReinscripcion.addEventListener('click', async () => {
        const numeroControl = inputNumeroControlReimpresion.value.trim();
        
        if (!numeroControl) {
          alert('⚠️ Por favor ingresa tu número de control');
          inputNumeroControlReimpresion.focus();
          return;
        }

        try {
          // Mostrar mensaje de carga
          btnReimprimirReinscripcion.disabled = true;
          btnReimprimirReinscripcion.textContent = 'Generando PDF...';

          // El número de control es el mismo que el folio
          const res = await fetch(`${BASE_URL}/api/reimprimir/${numeroControl}`);
          const data = await res.json();

          if (res.ok) {
            // Construir URL completa del PDF
            const pdfUrl = data.pdf.startsWith('http') 
              ? data.pdf 
              : `${BASE_URL}${data.pdf}`;
            
            // Abrir el PDF en una nueva ventana
            window.open(pdfUrl, '_blank');
            inputNumeroControlReimpresion.value = '';
          } else {
            alert(data.message || '❌ No se pudo reimprimir el PDF. Verifica que el número de control esté registrado y completado.');
          }
        } catch (err) {
          console.error('Error al reimprimir PDF:', err);
          alert('❌ Error de conexión. Por favor intenta nuevamente.');
        } finally {
          // Restaurar botón
          btnReimprimirReinscripcion.disabled = false;
          btnReimprimirReinscripcion.textContent = 'Reimprimir';
        }
      });

      // Permitir enviar con Enter
      inputNumeroControlReimpresion.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
          btnReimprimirReinscripcion.click();
        }
      });
    }

    // Función para cargar y prellenar datos del alumno en el modal
    async function cargarDatosAlumnoEnModal(numeroControl) {
      try {
        const res = await fetch(`${BASE_URL}/api/folio/${numeroControl}`);
        if (!res.ok) return;
        
        const data = await res.json();
        const form = document.getElementById('registroForm');
        if (!form) return;

        // Prellenar TODOS los campos con los datos existentes del alumno
        if (data.datos_alumno) {
          const da = data.datos_alumno;
          if (form.querySelector('[name="nombres"]')) form.querySelector('[name="nombres"]').value = da.nombres || '';
          if (form.querySelector('[name="primer_apellido"]')) form.querySelector('[name="primer_apellido"]').value = da.primer_apellido || '';
          if (form.querySelector('[name="segundo_apellido"]')) form.querySelector('[name="segundo_apellido"]').value = da.segundo_apellido || '';
          if (form.querySelector('[name="curp"]')) form.querySelector('[name="curp"]').value = da.curp || '';
          if (form.querySelector('[name="carrera"]')) form.querySelector('[name="carrera"]').value = da.carrera || '';
          if (form.querySelector('[name="grupo"]')) form.querySelector('[name="grupo"]').value = da.grupo || '';
          if (form.querySelector('[name="turno"]')) form.querySelector('[name="turno"]').value = da.turno || '';
          if (form.querySelector('[name="semestre"]')) form.querySelector('[name="semestre"]').value = da.semestre || '';
          if (form.querySelector('[name="periodo_semestral"]')) form.querySelector('[name="periodo_semestral"]').value = da.periodo_semestral || '';
          if (form.querySelector('[name="fecha_nacimiento"]')) form.querySelector('[name="fecha_nacimiento"]').value = da.fecha_nacimiento || '';
          if (form.querySelector('[name="edad"]')) form.querySelector('[name="edad"]').value = da.edad || '';
          if (form.querySelector('[name="sexo"]')) form.querySelector('[name="sexo"]').value = da.sexo || '';
          if (form.querySelector('[name="nacionalidad"]')) form.querySelector('[name="nacionalidad"]').value = da.nacionalidad || '';
          if (form.querySelector('[name="pais_extranjero"]')) form.querySelector('[name="pais_extranjero"]').value = da.pais_extranjero || '';
          
          // Estado civil: convertir número a string para el select
          const estadoCivil = da.estado_civil ? String(da.estado_civil) : '';
          if (form.querySelector('[name="estado_civil"]')) form.querySelector('[name="estado_civil"]').value = estadoCivil;
        }

        if (data.datos_generales) {
          const dg = data.datos_generales;
          if (form.querySelector('[name="colonia"]')) form.querySelector('[name="colonia"]').value = dg.colonia || '';
          if (form.querySelector('[name="domicilio"]')) form.querySelector('[name="domicilio"]').value = dg.domicilio || '';
          if (form.querySelector('[name="codigo_postal"]')) form.querySelector('[name="codigo_postal"]').value = dg.codigo_postal || '';
          if (form.querySelector('[name="telefono_alumno"]')) form.querySelector('[name="telefono_alumno"]').value = dg.telefono_alumno || '';
          if (form.querySelector('[name="correo_alumno"]')) form.querySelector('[name="correo_alumno"]').value = dg.correo_alumno || '';
          if (form.querySelector('[name="tipo_sangre"]')) form.querySelector('[name="tipo_sangre"]').value = dg.tipo_sangre || '';
          if (form.querySelector('[name="paraescolar"]')) form.querySelector('[name="paraescolar"]').value = dg.paraescolar || '';
          if (form.querySelector('[name="entrega_diagnostico"]')) form.querySelector('[name="entrega_diagnostico"]').value = dg.entrega_diagnostico || '';
          if (form.querySelector('[name="detalle_enfermedad"]')) form.querySelector('[name="detalle_enfermedad"]').value = dg.detalle_enfermedad || '';
          if (form.querySelector('[name="primera_opcion"]')) form.querySelector('[name="primera_opcion"]').value = dg.primera_opcion || '';
          if (form.querySelector('[name="segunda_opcion"]')) form.querySelector('[name="segunda_opcion"]').value = dg.segunda_opcion || '';
          if (form.querySelector('[name="tercera_opcion"]')) form.querySelector('[name="tercera_opcion"]').value = dg.tercera_opcion || '';
          if (form.querySelector('[name="cuarta_opcion"]')) form.querySelector('[name="cuarta_opcion"]').value = dg.cuarta_opcion || '';
          if (form.querySelector('[name="carta_poder"]')) form.querySelector('[name="carta_poder"]').value = dg.carta_poder || '';
          if (form.querySelector('[name="contacto_emergencia_nombre"]')) form.querySelector('[name="contacto_emergencia_nombre"]').value = dg.contacto_emergencia_nombre || '';
          if (form.querySelector('[name="contacto_emergencia_telefono"]')) form.querySelector('[name="contacto_emergencia_telefono"]').value = dg.contacto_emergencia_telefono || '';
          
          if (dg.habla_lengua_indigena) {
            if (form.querySelector('[name="habla_lengua_indigena_respuesta"]')) form.querySelector('[name="habla_lengua_indigena_respuesta"]').value = dg.habla_lengua_indigena.respuesta || '';
            if (form.querySelector('[name="habla_lengua_indigena_cual"]')) form.querySelector('[name="habla_lengua_indigena_cual"]').value = dg.habla_lengua_indigena.cual || '';
          }
          
          if (dg.responsable_emergencia) {
            if (form.querySelector('[name="responsable_emergencia_nombre"]')) form.querySelector('[name="responsable_emergencia_nombre"]').value = dg.responsable_emergencia.nombre || '';
            if (form.querySelector('[name="responsable_emergencia_telefono"]')) form.querySelector('[name="responsable_emergencia_telefono"]').value = dg.responsable_emergencia.telefono || '';
            if (form.querySelector('[name="responsable_emergencia_parentesco"]')) form.querySelector('[name="responsable_emergencia_parentesco"]').value = dg.responsable_emergencia.parentesco || '';
          }
        }

        if (data.datos_medicos) {
          const dm = data.datos_medicos;
          if (form.querySelector('[name="numero_seguro_social"]')) form.querySelector('[name="numero_seguro_social"]').value = dm.numero_seguro_social || '';
          if (form.querySelector('[name="unidad_medica_familiar"]')) form.querySelector('[name="unidad_medica_familiar"]').value = dm.unidad_medica_familiar || '';
          if (form.querySelector('[name="discapacidad"]')) form.querySelector('[name="discapacidad"]').value = dm.discapacidad || '';
          
          if (dm.enfermedad_cronica_o_alergia) {
            if (form.querySelector('[name="enfermedad_cronica_o_alergia_respuesta"]')) form.querySelector('[name="enfermedad_cronica_o_alergia_respuesta"]').value = dm.enfermedad_cronica_o_alergia.respuesta || '';
            if (form.querySelector('[name="enfermedad_cronica_o_alergia_detalle"]')) form.querySelector('[name="enfermedad_cronica_o_alergia_detalle"]').value = dm.enfermedad_cronica_o_alergia.detalle || '';
          }
        }

        if (data.secundaria_origen) {
          const so = data.secundaria_origen;
          if (form.querySelector('[name="nombre_secundaria"]')) form.querySelector('[name="nombre_secundaria"]').value = so.nombre_secundaria || '';
          if (form.querySelector('[name="regimen"]')) form.querySelector('[name="regimen"]').value = so.regimen || '';
          if (form.querySelector('[name="promedio_general"]')) form.querySelector('[name="promedio_general"]').value = so.promedio_general || '';
          if (form.querySelector('[name="modalidad"]')) form.querySelector('[name="modalidad"]').value = so.modalidad || '';
        }

        if (data.tutor_responsable) {
          const tr = data.tutor_responsable;
          if (form.querySelector('[name="nombre_padre"]')) form.querySelector('[name="nombre_padre"]').value = tr.nombre_padre || '';
          if (form.querySelector('[name="telefono_padre"]')) form.querySelector('[name="telefono_padre"]').value = tr.telefono_padre || '';
          if (form.querySelector('[name="nombre_madre"]')) form.querySelector('[name="nombre_madre"]').value = tr.nombre_madre || '';
          if (form.querySelector('[name="telefono_madre"]')) form.querySelector('[name="telefono_madre"]').value = tr.telefono_madre || '';
          if (form.querySelector('[name="vive_con"]')) form.querySelector('[name="vive_con"]').value = tr.vive_con || '';
        }

        if (data.persona_emergencia) {
          const pe = data.persona_emergencia;
          if (form.querySelector('[name="persona_emergencia_nombre"]')) form.querySelector('[name="persona_emergencia_nombre"]').value = pe.nombre || '';
          if (form.querySelector('[name="persona_emergencia_parentesco"]')) form.querySelector('[name="persona_emergencia_parentesco"]').value = pe.parentesco || '';
          if (form.querySelector('[name="persona_emergencia_telefono"]')) form.querySelector('[name="persona_emergencia_telefono"]').value = pe.telefono || '';
        }

      } catch (err) {
        console.error('Error cargando datos del alumno:', err);
      }
    }

    // Inicializar scripts cuando el modal se abre
    let scriptsInicializados = false;
    document.getElementById('formularioModal')?.addEventListener('shown.bs.modal', function () {
      const form = document.getElementById('registroForm');
      if (!form) return;

      // Cargar catálogos y scripts necesarios solo una vez
      if (!scriptsInicializados) {
        // Esperar un momento para que el DOM del modal esté completamente renderizado
        setTimeout(() => {
          if (typeof cargarCatalogo === 'function') cargarCatalogo();
          if (typeof cargarCatalogoGeneral === 'function') cargarCatalogoGeneral();
          if (typeof consultarFolioYAutocompletar === 'function') consultarFolioYAutocompletar();
          scriptsInicializados = true;
        }, 100);
      }

      // Script para opciones de carrera (siempre ejecutar)
      const opciones = ["A Y B", "PROGRAMACIÓN", "GESTIÓN E INNOVACIÓN TURÍSTICA", "VENTAS"];
      const selects = [
        document.getElementById('primera_opcion'),
        document.getElementById('segunda_opcion'),
        document.getElementById('tercera_opcion'),
        document.getElementById('cuarta_opcion')
      ];
      
      function actualizarOpciones() {
        const seleccionados = selects.map(select => select?.value).filter(Boolean);
        selects.forEach(select => {
          if (!select) return;
          const valorActual = select.value;
          select.innerHTML = '<option value="">Selecciona opción</option>';
          opciones.forEach(opcion => {
            if (!seleccionados.includes(opcion) || opcion === valorActual) {
              const option = document.createElement('option');
              option.value = opcion;
              option.textContent = opcion;
              if (opcion === valorActual) option.selected = true;
              select.appendChild(option);
            }
          });
        });
      }
      
      // Remover listeners anteriores si existen y agregar nuevos
      selects.forEach(select => {
        if (select) {
          select.removeEventListener('change', actualizarOpciones);
          select.addEventListener('change', actualizarOpciones);
        }
      });

      // Asegurar que el submit del formulario funcione
      const registroForm = document.getElementById('registroForm');
      if (registroForm && !registroForm.dataset.listenerAdded) {
        registroForm.dataset.listenerAdded = 'true';
      }
    });
  </script>
  
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Scripts del formulario -->
  <script src="/scripts.js"></script>
  <script src="/js/chatbot.js"></script>
</body>
</html>
